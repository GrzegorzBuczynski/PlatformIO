#ifndef DISPLAY_JC8048W550_H
#define DISPLAY_JC8048W550_H

// Include the chip configuration
#include "chip_esp32s3.h"

// Board name
#define JC8048W550

// Display settings
#define DISPLAY_WIDTH 800
#define DISPLAY_HEIGHT 480
#define DISPLAY_SOFTWARE_ROTATION
#define LVGL_BUFFER_PIXELS (DISPLAY_WIDTH * DISPLAY_HEIGHT)
#define LVGL_BUFFER_MALLOC_FLAGS (MALLOC_CAP_SPIRAM | MALLOC_CAP_8BIT)
#define GPIO_BCKL 2
#define DISPLAY_SWAP_XY false
#define DISPLAY_MIRROR_X false
#define DISPLAY_MIRROR_Y false

// ST7262 Parallel Display Driver
#define DISPLAY_ST7262_PAR
#define ST7262_PANEL_CONFIG_CLK_SRC LCD_CLK_SRC_PLL160M
#define ST7262_PANEL_CONFIG_TIMINGS_PCLK_HZ (15 * 1000000)
#define ST7262_PANEL_CONFIG_TIMINGS_H_RES DISPLAY_WIDTH
#define ST7262_PANEL_CONFIG_TIMINGS_V_RES DISPLAY_HEIGHT
#define ST7262_PANEL_CONFIG_TIMINGS_HSYNC_PULSE_WIDTH 4
#define ST7262_PANEL_CONFIG_TIMINGS_HSYNC_BACK_PORCH 8
#define ST7262_PANEL_CONFIG_TIMINGS_HSYNC_FRONT_PORCH 8
#define ST7262_PANEL_CONFIG_TIMINGS_VSYNC_PULSE_WIDTH 4
#define ST7262_PANEL_CONFIG_TIMINGS_VSYNC_BACK_PORCH 8
#define ST7262_PANEL_CONFIG_TIMINGS_VSYNC_FRONT_PORCH 8
#define ST7262_PANEL_CONFIG_TIMINGS_FLAGS_HSYNC_IDLE_LOW false
#define ST7262_PANEL_CONFIG_TIMINGS_FLAGS_VSYNC_IDLE_LOW false
#define ST7262_PANEL_CONFIG_TIMINGS_FLAGS_DE_IDLE_HIGH false
#define ST7262_PANEL_CONFIG_TIMINGS_FLAGS_PCLK_ACTIVE_NEG true
#define ST7262_PANEL_CONFIG_TIMINGS_FLAGS_PCLK_IDLE_HIGH false
#define ST7262_PANEL_CONFIG_DATA_WIDTH 16
#define ST7262_PANEL_CONFIG_SRAM_TRANS_ALIGN 4
#define ST7262_PANEL_CONFIG_PSRAM_TRANS_ALIGN 64
#define ST7262_PANEL_CONFIG_HSYNC_GPIO_NUM 39
#define ST7262_PANEL_CONFIG_VSYNC_GPIO_NUM 41
#define ST7262_PANEL_CONFIG_DE_GPIO_NUM 40
#define ST7262_PANEL_CONFIG_PCLK_GPIO_NUM 42
#define ST7262_PANEL_CONFIG_DATA_GPIO_R0 8
#define ST7262_PANEL_CONFIG_DATA_GPIO_R1 3
#define ST7262_PANEL_CONFIG_DATA_GPIO_R2 46
#define ST7262_PANEL_CONFIG_DATA_GPIO_R3 9
#define ST7262_PANEL_CONFIG_DATA_GPIO_R4 1
#define ST7262_PANEL_CONFIG_DATA_GPIO_G0 5
#define ST7262_PANEL_CONFIG_DATA_GPIO_G1 6
#define ST7262_PANEL_CONFIG_DATA_GPIO_G2 7
#define ST7262_PANEL_CONFIG_DATA_GPIO_G3 15
#define ST7262_PANEL_CONFIG_DATA_GPIO_G4 16
#define ST7262_PANEL_CONFIG_DATA_GPIO_G5 4
#define ST7262_PANEL_CONFIG_DATA_GPIO_B0 45
#define ST7262_PANEL_CONFIG_DATA_GPIO_B1 48
#define ST7262_PANEL_CONFIG_DATA_GPIO_B2 47
#define ST7262_PANEL_CONFIG_DATA_GPIO_B3 21
#define ST7262_PANEL_CONFIG_DATA_GPIO_B4 14
#define ST7262_PANEL_CONFIG_DISP_GPIO_NUM GPIO_NUM_NC
#define ST7262_PANEL_CONFIG_FLAGS_DISP_ACTIVE_LOW false
#define ST7262_PANEL_CONFIG_FLAGS_RELAX_ON_IDLE false
#define ST7262_PANEL_CONFIG_FLAGS_FB_IN_PSRAM true

// Touch Controller GT911
#define BOARD_HAS_TOUCH
#define CONFIG_ESP_LCD_TOUCH_MAX_POINTS 1
#define CONFIG_ESP_LCD_TOUCH_MAX_BUTTONS 0
#define TOUCH_GT911_I2C
#define GT911_I2C_HOST I2C_NUM_0
#define GT911_I2C_CONFIG_SDA_IO_NUM 19
#define GT911_I2C_CONFIG_SCL_IO_NUM 20
#define GT911_I2C_CONFIG_SDA_PULLUP_EN GPIO_PULLUP_DISABLE
#define GT911_I2C_CONFIG_SCL_PULLUP_EN GPIO_PULLUP_DISABLE
#define GT911_I2C_CONFIG_MASTER_CLK_SPEED 400000
#define GT911_I2C_CONFIG_CLK_FLAGS I2C_SCLK_SRC_FLAG_FOR_NOMAL
#define GT911_IO_I2C_CONFIG_DEV_ADDR GT911_IO_I2C_CONFIG_DEV_ADDRESS_5D
#define GT911_IO_I2C_CONFIG_CONTROL_PHASE_BYTES 1
#define GT911_IO_I2C_CONFIG_DC_BIT_OFFSET 0
#define GT911_IO_I2C_CONFIG_LCD_CMD_BITS 16
#define GT911_IO_I2C_CONFIG_LCD_PARAM_BITS 0
#define GT911_IO_I2C_CONFIG_FLAGS_DC_LOW_ON_DATA false
#define GT911_IO_I2C_CONFIG_FLAGS_DISABLE_CONTROL_PHASE true
#define GT911_TOUCH_CONFIG_X_MAX DISPLAY_WIDTH
#define GT911_TOUCH_CONFIG_Y_MAX DISPLAY_HEIGHT
#define GT911_TOUCH_CONFIG_RST_GPIO_NUM 38
#define GT911_TOUCH_CONFIG_INT_GPIO_NUM 18
#define GT911_TOUCH_CONFIG_LEVELS_RESET 0
#define GT911_TOUCH_CONFIG_LEVELS_INTERRUPT 0
#define TOUCH_SWAP_XY false
#define TOUCH_MIRROR_X false
#define TOUCH_MIRROR_Y false

// TF Card (MicroSD)
#define BOARD_HAS_TF
#define TF_CS 10
#define TF_SPI_MOSI 11
#define TF_SPI_SCLK 12
#define TF_SPI_MISO 13

#endif // DISPLAY_JC8048W550_H
